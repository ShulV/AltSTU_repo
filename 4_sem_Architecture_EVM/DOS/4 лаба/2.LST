    1  00  00                      ; программа вычисл€ет RESULT:= F(X,Y) + F(Y,X) - F(2,3)
    2  00  00                      ; ѕќƒ√ќ“ќ¬»“№ “јЅЋ»÷” јƒ–≈—ќ¬ ѕј–јћ≈“–ќ¬
    3  00  30  4a  mvi a,AA                ; непосредственна€ загрузка операнда AA в rA
    4  02  18  4d  stor a,TABPAR1                ; операнд из rA копируетс€ по абс. адресу TABPAR1
    5  04  30  4b  mvi a,BB                ; непосредственна€ загрузка операнда BB в rA
    6  06  18  4e  stor a,TABPAR2                 ; операнд из rA копируетс€ по абс. адресу TABPAR
    7  08  30  4c  mvi a,F                ; непосредственна€ загрузка операнда F в rA
    8  0a  18  4f  stor a,TABPAR3                 ; операнд из rA копируетс€ по абс. адресу TABPAR
    9  0c  00                      ; «јѕ»—№ X,Y
   10  0c  40      in 0                        ; ввод X (содерж. порта 0 заноситс€ в rA)
   11  0d  0a      mov b,a                        ; пересылка регистров (содержимое rA копир. в rB
   12  0e  41      in 1                        ; ввод Y (содерж. порта 1 заноситс€ в rA)
   13  0f  19  47  stor b,X                ; запись rB (X) в X (содерж. rB копир. по абс. адр. X)
   14  11  18  48  stor a,Y                ; запись rA (Y) в Y (содерж. rA копир. по абс. адр. Y)
   15  13  00                      ; ѕќ—„®“ F(X,Y) + F(Y,X) - F(2,3)
   16  13  00              ;F(X,Y)
   17  13  19  4a  stor b,AA                ; запись rB (X) в AA (содерж. rB копир. по абс. адр. A
   18  15  18  4b  stor a,BB                ; запись rA (Y) в BB (содерж. rA копир. по абс. адр. B
   19  17  30  4d  mvi a,TABPAR1                ; загрузка в TABPAR1 (адреса таблицы) в rA
   20  19  c0  50  call FUNC                ; вызов функции и подсчЄт F(X,Y)
   21  1b  10  4c  load a,F                ; загрузить результат функции в rA
   22  1d  18  49  stor a,RESULT                ; запись рзультата функции по абс. адр. RESULT
   23  1f  00              ;F(Y,X)
   24  1f  10  47  load a,X                ; загрузить X в rA
   25  21  11  48  load b,Y                ; загрузить Y в rB
   26  23  19  4a  stor b,AA                ; запись rB (Y) в AA (содерж. rB копир. по абс. адр. A
   27  25  18  4b  stor a,BB                ; запись rA (X) в BB (содерж. rA копир. по абс. адр. B
   28  27  30  4d  mvi a,TABPAR1                ; загрузка в TABPAR1 (адреса таблицы) в rA
   29  29  c0  50  call FUNC                ; вызов функции и подсчЄт F(Y,X)
   30  2b  10  4c  load a,F                ; загрузить результат функции в rA
   31  2d  11  49  load b,RESULT                ; загрузить текущий результат
   32  2f  51      adr a,b                        ; сложить F(X,Y) и F(Y,X). –ез. в rA
   33  30  18  49  stor a,RESULT                ; запись рзультата функции по абс. адр. RESULT
   34  32  00              ;F(2,3)
   35  32  30  02  mvi a,2                        ; непосред. загрузка 2 в rA
   36  34  31  03  mvi b,3                        ; непосред. загрузка 3 в rB
   37  36  18  4a  stor a,AA                ; запись rA (2) в AA (содерж. rA копир. по абс. адр. A
   38  38  19  4b  stor b,BB                ; запись rB (3) в BB (содерж. rB копир. по абс. адр. B
   39  3a  30  4d  mvi a,TABPAR1                ; загрузка в TABPAR1 (адреса таблицы) в rA
   40  3c  c0  50  call FUNC                ; вызов функции и подсчЄт F(X,Y)
   41  3e  10  49  load a,RESULT                ; загрузить текущий результат
   42  40  11  4c  load b,F                ; загрузить результат функции в rB
   43  42  69      sbr a,b                        ; вычесть F(2,3) из [F(X,Y)+F(Y,X)]. –ез. в rA
   44  43  18  49  stor a,RESULT                ; запись рзультата функции по абс. адр. RESULT
   45  45  4b      out 3                        ; вывести в канал 3
   47  46  f8      Stop                        ; останов
   48  47  00                      ;
   49  47  00      X: .ds 1                ; резервир. 1 байта под X
   50  48  00      Y: .ds 1                ; резервир. 1 байта под Y
   51  49  00      RESULT: .ds 1                ; резервир. 1 байта под результат
   52  4a  00      AA: .ds 1                ; резервир. 1 байта под параметр функ. F(A,B)
   53  4b  00      BB: .ds 1                ; резервир. 1 байта под параметр функ. F(A,B)
   54  4c  00      F: .ds 1                ; резервир. 1 байта под значение F(A,B)
   55  4d  00      TABPAR1: .ds 1                ; резервир. 1 байта под ссылку на AB
   56  4e  00      TABPAR2: .ds 1                ; резервир. 1 байта под ссылку на BB
   57  4f  00      TABPAR3: .ds 1                ; резервир. 1 байта под ссылку на F
   58  50  00                      ; подпрограмма вычислени€ F(A,B)= (B*B-1) + (A+B)*(A+B)
   59  50  00                      ; вход: (rA) - таблица адресов
   60  50  00                      ; выход: новое значение TABPAR3 (F) в таблице адресов
   61  50  20      FUNC: push a                ; сохранить в стеке адрес таблицы
   62  51  15  00  load b,0(a)                ; загрузка в rB значени€ TABPAR1 (јƒ–≈—ј AA)
   63  53  15  40  load b,0(b)                ; загрузка в rB «Ќј„≈Ќ»я AA
   64  55  14  01  load a,1(a)                ; загрузка в rA значени€ TABPAR2 (јƒ–≈—ј BB)
   65  57  14  00  load a,0(a)                ; загрузка в rA «Ќј„≈Ќ»я BB
   66  59  51      adr a,b                        ; сложение регистров (рез. в rA)
   67  5a  0a      mov b,a                        ; копирование rA в rB
   68  5b  80      mur a,a                        ; умножение R1+1 на R2, т.е. rB*rA [(A+B)^2]. –е
   69  5c  28      pop a                        ; выт€нуть адрес таблицы в rA
   70  5d  20      push a                        ; запушить адрес таблицы
   71  5e  21      push b                        ; положить (A+B)^2 в стек
   72  5f  15  01  load b,1(a)                ; загрузка в rB значени€ TABPAR2 (јƒ–≈—ј BB)
   73  61  15  40  load b,0(b)                ; загрузка в rB «Ќј„≈Ќ»я BB
   74  63  81      mur a,b                        ; умножение R1+1 на R2, т.е. rB*rB [B*B]. –ез. в
   75  64  79  01  sbi b,1                        ; непосредственное вычитание [B*B]-1. –ез. в rB.
   76  66  28      pop a                        ; выт€нуть
   77  67  51      adr a,b                        ; сложение регистров [(A+B)^2 + (B*B)-1](рез. в 
   78  68  29      pop b                        ; выт€нуть адрес таблицы в rB
   79  69  15  42  load b,2(b)                ; загрузка адреса TABPAR3 в rB
   80  6b  1c  40  stor a,0(b)                ; загрузка значени€ функции по адресу, лежащему в rB
   81  6d  c8      ret                        ;

    ***** Т†°Ђ®ж† ѓ•а•™а•бв≠ле бблЂЃ™ *****
  ®ђп     Ѓѓа•§•Ђ•≠®•     бблЂ™®

 Y        48              22  12                                               
 X        47              20  10                                               
 TABPAR3  4f              b                                                    
 TABPAR2  4e              7                                                    
 TABPAR1  4d              3b  28  18  3                                        
 RESULT   49              44  3f  31  2e  1e                                   
 FUNC     50              3d  2a  1a                                           
 F        4c              41  2c  1c  9                                        
 BB       4b              39  26  16  5                                        
 AA       4a              37  24  14  1                                        

  **** Н• Ѓ°≠†аг¶•≠Ѓ Ѓи®°Ѓ™. Убѓ•и≠Ѓ• І†Ґ•аи•≠®• ****

