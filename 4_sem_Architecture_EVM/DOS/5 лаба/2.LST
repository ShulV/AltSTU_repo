    1  00  00                      ; программа вычисл€ет RESULT:= F(X,Y) + F(Y,X) - F(2,3)
    2  00  0a      .db 0a                        ;
    3  01  1a      .db 1a                        ;
    4  02  00      .org 08                        ;
    5  08  d0      .db 0d0
    6  09  e0      .db 0e0        
    8  0a  00      .org 0a                        ;
    9  0a  f0      di                        ;
   10  0b  00                              ; «јѕ»—№ X,Y
   11  0b  40      in 0                        ; ввод X (содерж. порта 0 заноситс€ в rA)
   12  0c  31  63  mvi b,X                        ; непосредственна€ загрузка
   13  0e  1c  40  stor a,0(b)                ; сохр. x
   14  10  41      in 1                        ; ввод Y (содерж. порта 1 заноситс€ в rA)
   15  11  1c  41  stor a,1(b)                ; сохр. y
   16  13  e8      ei                        ;
   17  14  d8      rin                        ;
   19  15  00      .org 1a
   20  1a  f0      di
   21  1b  4b      out 3
   22  1c  e8      ei
   23  1d  d8      rin
   25  1e  00                      ; ѕќƒ√ќ“ќ¬»“№ “јЅЋ»÷” јƒ–≈—ќ¬ ѕј–јћ≈“–ќ¬
   26  1e  30  66  mvi a,AA                ; непосредственна€ загрузка операнда AA в rA
   27  20  18  69  stor a,TABPAR1                ; операнд из rA копируетс€ по абс. адресу TABPAR1
   28  22  30  67  mvi a,BB                ; непосредственна€ загрузка операнда BB в rA
   29  24  18  6a  stor a,TABPAR2                 ; операнд из rA копируетс€ по абс. адресу TABPAR
   30  26  30  68  mvi a,F                        ; непосредственна€ загрузка операнда F в rA
   31  28  18  6b  stor a,TABPAR3                 ; операнд из rA копируетс€ по абс. адресу TABPAR
   33  2a  d0      int 0                        ;
   34  2b  00                      ; ѕќ—„®“ F(X,Y) + F(Y,X) - F(2,3)
   35  2b  00              ;F(X,Y)
   36  2b  10  63  load a,X                ; загрузить X в rA
   37  2d  11  64  load b,Y                ; загрузить Y в rB
   38  2f  18  66  stor a,AA                ; запись rA (X) в AA (содерж. rA копир. по абс. адр. A
   39  31  19  67  stor b,BB                ; запись rB (Y) в BB (содерж. rB копир. по абс. адр. B
   40  33  30  69  mvi a,TABPAR1                ; загрузка в TABPAR1 (адреса таблицы) в rA
   41  35  c0  6c  call FUNC                ; вызов функции и подсчЄт F(X,Y)
   42  37  10  68  load a,F                ; загрузить результат функции в rA
   43  39  18  65  stor a,RESULT                ; запись рзультата функции по абс. адр. RESULT
   44  3b  00              ;F(Y,X)
   45  3b  10  63  load a,X                ; загрузить X в rA
   46  3d  11  64  load b,Y                ; загрузить Y в rB
   47  3f  19  66  stor b,AA                ; запись rB (Y) в AA (содерж. rB копир. по абс. адр. A
   48  41  18  67  stor a,BB                ; запись rA (X) в BB (содерж. rA копир. по абс. адр. B
   49  43  30  69  mvi a,TABPAR1                ; загрузка в TABPAR1 (адреса таблицы) в rA
   50  45  c0  6c  call FUNC                ; вызов функции и подсчЄт F(Y,X)
   51  47  10  68  load a,F                ; загрузить результат функции в rA
   52  49  11  65  load b,RESULT                ; загрузить текущий результат
   53  4b  51      adr a,b                        ; сложить F(X,Y) и F(Y,X). –ез. в rA
   54  4c  18  65  stor a,RESULT                ; запись рзультата функции по абс. адр. RESULT
   55  4e  00              ;F(2,3)
   56  4e  30  02  mvi a,2                        ; непосред. загрузка 2 в rA
   57  50  31  03  mvi b,3                        ; непосред. загрузка 3 в rB
   58  52  18  66  stor a,AA                ; запись rA (2) в AA (содерж. rA копир. по абс. адр. A
   59  54  19  67  stor b,BB                ; запись rB (3) в BB (содерж. rB копир. по абс. адр. B
   60  56  30  69  mvi a,TABPAR1                ; загрузка в TABPAR1 (адреса таблицы) в rA
   61  58  c0  6c  call FUNC                ; вызов функции и подсчЄт F(X,Y)
   62  5a  10  65  load a,RESULT                ; загрузить текущий результат
   63  5c  11  68  load b,F                ; загрузить результат функции в rB
   64  5e  69      sbr a,b                        ; вычесть F(2,3) из [F(X,Y)+F(Y,X)]. –ез. в rA
   65  5f  18  65  stor a,RESULT                ; запись рзультата функции по абс. адр. RESULT
   66  61  d1      int 1                        ; 
   68  62  f8      Stop                        ; останов
   71  63  00                      ;
   72  63  00      X: .ds 1                ; резервир. 1 байта под X
   73  64  00      Y: .ds 1                ; резервир. 1 байта под Y
   74  65  00      RESULT: .ds 1                ; резервир. 1 байта под результат
   75  66  00      AA: .ds 1                ; резервир. 1 байта под параметр функ. F(A,B)
   76  67  00      BB: .ds 1                ; резервир. 1 байта под параметр функ. F(A,B)
   77  68  00      F: .ds 1                ; резервир. 1 байта под значение F(A,B)
   78  69  00      TABPAR1: .ds 1                ; резервир. 1 байта под ссылку на AA
   79  6a  00      TABPAR2: .ds 1                ; резервир. 1 байта под ссылку на BB
   80  6b  00      TABPAR3: .ds 1                ; резервир. 1 байта под ссылку на F
   81  6c  00                      ; подпрограмма вычислени€ F(A,B)= (B*B-1) + (A+B)*(A+B)
   82  6c  00                      ; вход: (rA) - таблица адресов
   83  6c  00                      ; выход: новое значение TABPAR3 (F) в таблице адресов
   84  6c  20      FUNC: push a                ; сохранить в стеке адрес таблицы
   85  6d  15  00  load b,0(a)                ; загрузка в rB значени€ TABPAR1 (јƒ–≈—ј AA)
   86  6f  15  40  load b,0(b)                ; загрузка в rB «Ќј„≈Ќ»я AA
   87  71  14  01  load a,1(a)                ; загрузка в rA значени€ TABPAR2 (јƒ–≈—ј BB)
   88  73  14  00  load a,0(a)                ; загрузка в rA «Ќј„≈Ќ»я BB
   89  75  51      adr a,b                        ; сложение регистров (рез. в rA)
   90  76  0a      mov b,a                        ; копирование rA в rB
   91  77  80      mur a,a                        ; умножение R1+1 на R2, т.е. rB*rA [(A+B)^2]. –е
   92  78  28      pop a                        ; выт€нуть адрес таблицы в rA
   93  79  20      push a                        ; запушить адрес таблицы
   94  7a  21      push b                        ; положить (A+B)^2 в стек
   95  7b  15  01  load b,1(a)                ; загрузка в rB значени€ TABPAR2 (јƒ–≈—ј BB)
   96  7d  15  40  load b,0(b)                ; загрузка в rB «Ќј„≈Ќ»я BB
   97  7f  81      mur a,b                        ; умножение R1+1 на R2, т.е. rB*rB [B*B]. –ез. в
   98  80  79  01  sbi b,1                        ; непосредственное вычитание [B*B]-1. –ез. в rB.
   99  82  28      pop a                        ; выт€нуть
  100  83  51      adr a,b                        ; сложение регистров [(A+B)^2 + (B*B)-1](рез. в 
  101  84  29      pop b                        ; выт€нуть адрес таблицы в rB
  102  85  15  42  load b,2(b)                ; загрузка адреса TABPAR3 в rB
  103  87  1c  40  stor a,0(b)                ; загрузка значени€ функции по адресу, лежащему в rB
  104  89  c8      ret                        ;
  106  8a  00                      ; ѕрограммное прерывание (ввод)

    ***** Т†°Ђ®ж† ѓ•а•™а•бв≠ле бблЂЃ™ *****
  ®ђп     Ѓѓа•§•Ђ•≠®•     бблЂ™®

 Y        64              3e  2e                                               
 X        63              3c  2c  d                                            
 TABPAR3  6b              29                                                   
 TABPAR2  6a              25                                                   
 TABPAR1  69              57  44  34  21                                       
 RESULT   65              60  5b  4d  4a  3a                                   
 FUNC     6c              59  46  36                                           
 F        68              5d  48  38  27                                       
 BB       67              55  42  32  23                                       
 AA       66              53  40  30  1f                                       

  **** Н• Ѓ°≠†аг¶•≠Ѓ Ѓи®°Ѓ™. Убѓ•и≠Ѓ• І†Ґ•аи•≠®• ****

